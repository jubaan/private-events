<p id="notice"><%= notice %></p>

<h1>Events</h1>

<div>
  <strong> Hosted by
    <%= link_to @event.host.username, "/users/#{@event.host.id}" %>
  </strong>
  <br>
  <strong>Where?</strong>  <%= @event.location %>
  <br>
  <strong>When?</strong> <%= @event.date %>
  <p>
    <strong>What?</strong>
    <br>
    <%= @event.description %>
  </p>
  <p>
    <strong>Who is coming?</strong>
    <%if @event.attendees.empty? %>
      <p class="font-italic text-muted">Nobody has confirmed yet</p>
    <% end %>
    <% @event.attendees.each do |attendee| %>
      <br>
      <%= link_to attendee.username, "/users/#{attendee.id}" %>
    <% end %>
  </p>
    <br>

    <strong>Confirmed<strong>
    <%if @confirmed_appointments %>
      <p class="font-italic text-muted">Nobody has confirmed yet</p>
    <% end %>
    <% @confirmed_appointments.each do |attendee| %>
      <br>
      <%= link_to attendee.username, "/users/#{attendee.id}" %>
    <% end %>
    <br>

    <strong>Not Confirmed<strong>
    <% @not_confirmed_appointments.each do |event| %>
      <%= event.attendees %>
      <%# <%= link_to attendee.username, "/users/#{attendee.id}" %1> %>
    <% end %>
    <br>
    j
  <br>
  <% if @event.host == current_user %>
    <%= link_to 'Edit', edit_event_path(@event) %> |
    <%= link_to 'Destroy', @event, method: :delete, data: { confirm: 'Are you sure?' } %> |
  <% end %>
  <%= link_to 'Back', events_path %>
</div>

<% User.all.each do |user| %>
  <div>
    <%= user.username %>
    <%= link_to "Invite", appointments_path({:attendee_id => user.id, :event_id => @event.id}), :method => 'post' %>
  </div>
<% end %>
